<html>
  <head>
    <title>Menu</title>
  </head>
  <body>
    <canvas id="cvn" width="800" height="600">
    </canvas>
    <script>
      let canvas = document.getElementById("cvn");
      let context = canvas.getContext("2d");
      let classe = "war";
      let url = "single_player.html?player=";
      let cpt = 1;
      let mode = 1;

      let draw = function (){
        background = new Image();
        let war = new Image();
        let wizard = new Image();
        background.src = "sprites/decor/menu.png";
        context.drawImage(background,0,0);
        if(classe=='war'){
          war.src = "sprites/war/forward0.png";
          wizard.src = "sprites/wizard/forward_shadow.png";
          context.drawImage(war,300,100,96,146);
          context.drawImage(wizard,400,100,96,146);
        }
        if(classe=='wizard'){
          wizard.src = "sprites/wizard/forward0.png";
          war.src = "sprites/war/forward_shadow.png";
          context.drawImage(wizard,400,100,96,146);
          context.drawImage(war,300,100,96,146);
        }
      }

      let keyboard = function (e) {
        switch(e.keyCode){
          case 13:
            cpt = cpt - 1;
            console.log(url)
            url += classe;
            if(cpt==0){
              window.location= url;
            }
            else{ 
              url += "&";
            }
            break
          case 81:
            classe = 'war';
            break
          case 68:
            classe = 'wizard';
            break
          case 83:
            if(mode!=2){
              cpt = 2;
              mode = 2;
              url = "multiplayer.html?player=";
            }
            console.log(url)
            break
          case 90:
            if(mode!=1){
              cpt = 1;
              mode = 1;
              url = "single_player.html?player=";
            }
            console.log(url)
            break
        }
      }
      setInterval(draw,1000/60);
      document.addEventListener("keydown", keyboard);  
    </script>
  </body>
</html>
